<?xml version="1.0" encoding="UTF-8"?>
<test-set xmlns:xs="http://www.w3.org/2001/XMLSchema"
          xmlns="http://www.w3.org/2012/10/xslt-test-catalog"
          name="expand-text">
   <description>Tests the XSLT 3.0 expand-text attribute and content value templates</description>

   <test-case name="cvt-001">
      <description>Simple test of content value templates</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-001.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert>/out = "Goodbye Mars!"</assert>
      </result>
   </test-case>
   
   <test-case name="cvt-002">
      <description>No expansion if expand-text = "no"</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-002.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert>/out = "{$Hello} {$World}!"</assert>
      </result>
   </test-case>
   
   <test-case name="cvt-003">
      <description>Expansion enabled at element level</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-003.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert>/out = "Goodbye Mars!"</assert>
      </result>
   </test-case>
   
   <test-case name="cvt-004">
      <description>Expansion enabled at template level</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-004.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert>/out = "Goodbye Mars!"</assert>
      </result>
   </test-case>
   
   <test-case name="cvt-005">
      <description>No atomization</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-005.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <all-of>
            <assert>/out/Goodbye = ""</assert>
            <assert>/out/Mars = ""</assert>
         </all-of>
      </result>
   </test-case>
   
   <test-case name="cvt-006">
      <description>Space separation</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-006.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <assert>/out = "1 2 3 45 6"</assert>         
      </result>
   </test-case>
   
   <test-case name="cvt-007">
      <description>Use in xsl:attribute</description>
      <created by="Michael Kay" on="2013-01-25"/>
      <dependencies>
         <spec value="XSLT30+"/>
      </dependencies>
      <test>
         <stylesheet file="cvt-007.xsl"/>
         <initial-template name="main"/>
      </test>
      <result>
         <all-of>
            <assert>/out/@a = "12 3456"</assert>
            <assert>/out/@b = "1 2   3 4 5 6"</assert>
         </all-of>
      </result>
   </test-case>

 
</test-set>
